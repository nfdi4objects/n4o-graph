[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "NFDI4Objects Knowledge Graph (TA5)",
    "section": "",
    "text": "An dieser Stelle entsteht ein Handbuch für die Verwaltung und Nutzung des Knowledge Graphen von NFDI4Objects (TA5). Der Knowledge Graph besteht im Wesentlichen aus zwei Datenbanken, in denen Daten aus verschiedenene Quellen zusammengeführt werden:\n\nein Property-Graph mit aufbereiteten Daten und Abfragemöglichkeit in Cypher\nein Triple-Store mit Rohdaten in RDF und Abfragemöglichkeit in SPARQL\n\nDarüber sind eine browserbasierte Oberfläche (“Rich Metadata Discovery”) mit Möglichkeiten zur interaktiven Abfrage und Datenvisualisierung sowie die Integration in ein Learning Management System (LMS) geplant. Langfristig soll der Knowledge Graph außerdem mit anderen Knowledge Graphen im Rahmen der NFDI verknüpft werden.\nDer Zugriff auf die Inhalte des Knowledge Graphen ist unter Benutzung beschrieben. Weitere Details und Hintergründe werden im Grundlagen-Kapitel und in der Beschreibung der Systemarchitektur erklärt.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Einleitung</span>"
    ]
  },
  {
    "objectID": "basics.html",
    "href": "basics.html",
    "title": "Grundlagen",
    "section": "",
    "text": "Property Graphen\nProperty-Graphen bilden ein flexibles und nicht zu kompliziertes Werkzeug zur Strukturierung, Speicherung und Auswertung vernetzter Daten. Dabei werden Daten nicht wie beispielsweise bei SQL in Form von Tabellen, sondern in Form von Graphen aus Knoten gespeichert, die durch Kanten miteinander verbunden sind. Sowohl Knoten als auch Kanten können mit Eigenschaften versehen werden und haben jeweils Labels als Angabe ihrer Art.\nEine weitergehende, allgemeine Erklärung zu Property-Graphen bietet der Artikel Property-Graphen: eine kurze Einführung.\nIm Gegensatz zu RDF sind Property Graphen nicht als allgemeines Format zum Austausch und zur Integration von Daten gedacht. Der Property Graph von NFDI4Objects benötigt daher eine Datenmodell das festlegt, welche Arten von Knoten und Kanten wie miteinander verknüpft und mit Eigenschaften versehen werden können.\nEin Property-Graph kann mit Cypher-Abfragen nähere Informationen über seinen Inhalt liefern und verändert werden. Dafür muss er in Neo4j oder einer anderen Graphdatenbank, die mit Cypher-Anfragen umgehen kann, übertragen werden. Cypher ist eine SQL-aquivalente Sprache für Graphdatenbanken.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Grundlagen</span>"
    ]
  },
  {
    "objectID": "basics.html#triple-store",
    "href": "basics.html#triple-store",
    "title": "Grundlagen",
    "section": "Triple-Store",
    "text": "Triple-Store\nEin Triple Store ist eine Graphendatenbank, die auf Basis von RDF Daten in Subjekt-Prädikat-Objekt Triples speichert. Das Subjekt und Objekt stellen die Knoten dar, die über ein Prädikat verbunden sind.\nDer Triple-Store kann mit SPARQL abgefragt werden.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Grundlagen</span>"
    ]
  },
  {
    "objectID": "data-sources.html",
    "href": "data-sources.html",
    "title": "Datenquellen",
    "section": "",
    "text": "Der Knowledge Graph besteht aus Metadaten von Sammlungen aus verschiedenenen Datenbanken, die mit bekannten Vokabularen angereichert werden.\nEine vorläufige Liste von Sammlungen befindet sich hier.\nDie technischen Details der Aufnahme von neuen Datenbanken und Sammlungen sowie Update-Verfahren befinden sich noch in Entwicklung.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Datenquellen</span>"
    ]
  },
  {
    "objectID": "data-model.html",
    "href": "data-model.html",
    "title": "Datenmodell",
    "section": "",
    "text": "Beispiel\nFolgender in CIDOC-CRM modellierter Teilgraph (in Turtle-Syntax):\nwird konvertiert in folgenden Property Graph (in PG Format und als Diagram):",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Datenmodell</span>"
    ]
  },
  {
    "objectID": "data-model.html#beispiel",
    "href": "data-model.html#beispiel",
    "title": "Datenmodell",
    "section": "",
    "text": "@prefix crm: &lt;http://erlangen-crm.org/170309/&gt; .\n\n&lt;http://objekte-im-netz.fau.de/palaeo/id/5af2f810b638d&gt;\n  a crm:E16_Measurement ;\n  crm:P40_observed_dimension &lt;http://objekte-im-netz.fau.de/palaeo/id/5b3540e7cea41&gt; .\n\n&lt;http://objekte-im-netz.fau.de/palaeo/id/5b3540e7cea41&gt;\n  a crm:E54_Dimension ;\n  crm:P2_has_type &lt;http://objekte-im-netz.fau.de/palaeo/id/5e3eb2d5dc30b&gt; ;\n  crm:P91_has_unit &lt;http://objekte-im-netz.fau.de/palaeo/id/5b353177d6480&gt;\n  crm:P90_has_value 2.8 .\n\n&lt;http://objekte-im-netz.fau.de/palaeo/id/5b353177d6480&gt;\n  a crm:E58_Measurement_Unit ;\n  crm:P48_has_preferred_identifier &lt;http://objekte-im-netz.fau.de/palaeo/id/5b353177d64bc&gt; .\n\n&lt;http://objekte-im-netz.fau.de/palaeo/id/5e3eb2d5dc30b&gt;\n  a crm:E55_Type .\n  crm:P48_has_preferred_identifier &lt;http://objekte-im-netz.fau.de/palaeo/id/5e3eb2d5dc310&gt; ;\n\n&lt;http://objekte-im-netz.fau.de/palaeo/id/5e3eb2d5dc310&gt;\n  a crm:E42_Identifier ;\n  crm:P3_has_note \"Höhe (Scan)\" .\n\n&lt;http://objekte-im-netz.fau.de/palaeo/id/5b353177d64bc&gt;\n  a crm:E42_Identifier ;\n  crm:P3_has_note \"cm\" .\n\n\nhttp://objekte-im-netz.fau.de/palaeo/id/5af2f810b638d\n  :E16_Measurement\n\nhttp://objekte-im-netz.fau.de/palaeo/id/5af2f810b638d \n  -&gt; http://objekte-im-netz.fau.de/palaeo/id/5b3540e7cea41\n  :P40_observed_dimension\n\nhttp://objekte-im-netz.fau.de/palaeo/id/5b3540e7cea41\n  :E54_Dimension \n  P90_has_value: 2.8\n\nhttp://objekte-im-netz.fau.de/palaeo/id/5b3540e7cea41\n  -&gt; http://objekte-im-netz.fau.de/palaeo/id/5e3eb2d5dc30b\n  :P2_has_type\n\nhttp://objekte-im-netz.fau.de/palaeo/id/5b3540e7cea41\n  -&gt; http://objekte-im-netz.fau.de/palaeo/id/5b353177d6480\n  :P91_has_unit\n\nhttp://objekte-im-netz.fau.de/palaeo/id/5b353177d6480\n  :E58_Measurement_Unit\n\nhttp://objekte-im-netz.fau.de/palaeo/id/5b353177d6480\n  -&gt; http://objekte-im-netz.fau.de/palaeo/id/5b353177d64bc\n  :P48_has_preferred_identifier \n\nhttp://objekte-im-netz.fau.de/palaeo/id/5e3eb2d5dc30b\n  :E55_Type\n\nhttp://objekte-im-netz.fau.de/palaeo/id/5e3eb2d5dc30b\n  -&gt; http://objekte-im-netz.fau.de/palaeo/id/5e3eb2d5dc310\n  :P48_has_preferred_identifier \n\nhttp://objekte-im-netz.fau.de/palaeo/id/5e3eb2d5dc310\n  :E42_Identifier\n  P3_has_note: \"Höhe (Scan)\"\n\nhttp://objekte-im-netz.fau.de/palaeo/id/5b353177d64bc\n  :E42_Identifier\n  P3_has_note: \"cm\"",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Datenmodell</span>"
    ]
  },
  {
    "objectID": "data-model.html#cidoc-crm",
    "href": "data-model.html#cidoc-crm",
    "title": "Datenmodell",
    "section": "CIDOC-CRM",
    "text": "CIDOC-CRM\n…",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Datenmodell</span>"
    ]
  },
  {
    "objectID": "data-model.html#die-nfdi4objects-core-ontologie",
    "href": "data-model.html#die-nfdi4objects-core-ontologie",
    "title": "Datenmodell",
    "section": "Die NFDI4Objects Core Ontologie",
    "text": "Die NFDI4Objects Core Ontologie\n…",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Datenmodell</span>"
    ]
  },
  {
    "objectID": "data-model.html#weitere-unterstütze-ontologien",
    "href": "data-model.html#weitere-unterstütze-ontologien",
    "title": "Datenmodell",
    "section": "Weitere unterstütze Ontologien",
    "text": "Weitere unterstütze Ontologien\n…",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Datenmodell</span>"
    ]
  },
  {
    "objectID": "data-model.html#terminologien",
    "href": "data-model.html#terminologien",
    "title": "Datenmodell",
    "section": "Terminologien",
    "text": "Terminologien\n…",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Datenmodell</span>"
    ]
  },
  {
    "objectID": "architecture.html",
    "href": "architecture.html",
    "title": "Systemarchitektur",
    "section": "",
    "text": "Übersicht\nDer gesamte Prozess zur Integration von Daten in den Knowledge Graphen beinhaltet besteht aus folgenden Schritten:\nEtwas genauer lässt sich der Prozess etwa wie in Abbildung 5.1 dargestellt veranschaulichen.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Systemarchitektur</span>"
    ]
  },
  {
    "objectID": "architecture.html#übersicht",
    "href": "architecture.html#übersicht",
    "title": "Systemarchitektur",
    "section": "",
    "text": "Annahme, Prüfung und Bereinigung\nKonvertierung\nEinspielung\nImplementierung siehe https://github.com/nfdi4objects/n4o-property-graph\nAnreicherung\nBereitstellung\nNoch nicht umgesett\n\n\n\n\n\n\n\n\nAbbildung 5.1",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Systemarchitektur</span>"
    ]
  },
  {
    "objectID": "architecture.html#annahme-prüfung-und-bereinigung",
    "href": "architecture.html#annahme-prüfung-und-bereinigung",
    "title": "Systemarchitektur",
    "section": "Annahme, Prüfung und Bereinigung",
    "text": "Annahme, Prüfung und Bereinigung\nSiehe https://github.com/nfdi4objects/n4o-import. Dort findet sich unter anderem das offizielle XML-Schema für LIDO-Daten.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Systemarchitektur</span>"
    ]
  },
  {
    "objectID": "architecture.html#konvertierung",
    "href": "architecture.html#konvertierung",
    "title": "Systemarchitektur",
    "section": "Konvertierung",
    "text": "Konvertierung\nLIDO-XML-Daten werden mit Hilfe von X3ML ins Property Graph Format konvertiert.\nZur Konvertierung von RDF-Daten ins Property Graph Format dient das Skript rdf2cypher.py (wird derzeit überarbeitet), das eine Cypher-Datei (in Zukunkft CYPHERL und/oder PG-JSONL) ausgibt.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Systemarchitektur</span>"
    ]
  },
  {
    "objectID": "architecture.html#einspielung",
    "href": "architecture.html#einspielung",
    "title": "Systemarchitektur",
    "section": "Einspielung",
    "text": "Einspielung\n\nRDF-Daten in den Property-Graph\nZum Einspielen der Cypher-Datei in eine Neo4J-Datenbank kann das Kommando cypher-shell verwendet werden, das im Neo4J-Docker-Container enthalten ist oder separat installiert werden kann.\nDa Neo4J aus dem Docker-Container nicht auf die Cypher-Datei zugreifen kann, muss ihr Inhalt per Pipe eingelesen werden:\n&lt;file.cypher | docker exec -t neo4j \\\n  cypher-shell -a &lt;ADDRESS&gt; -u &lt;USERNAME&gt; -p &lt;PASSWORD&gt;\nEin neuer Docker Container kann mit diesem Kommando erstellt werden. Ein Ordner für Volume muss bereits existieren.\ndocker run -d \\\n    --name=neo4j \\\n    --publish=7474:7474 --publish=7687:7687 \\\n    --env NEO4J_AUTH=none \\\n    --user $(id -u):$(id -g) \\\n    --volume=$cwd/data:/data \\\n    neo4j \n\n\nRDF-Daten\nSiehe https://github.com/nfdi4objects/n4o-import",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Systemarchitektur</span>"
    ]
  },
  {
    "objectID": "architecture.html#anreicherung",
    "href": "architecture.html#anreicherung",
    "title": "Systemarchitektur",
    "section": "Anreicherung",
    "text": "Anreicherung\n\nExpansion der Klassenhierarchie\nDa Property-Graphen im Gegensatz zu RDF keine Inferenz-Regeln beinhalten und weil Inferenz-Regeln sowieso umständlich sind, werden die Daten im Property-Graphen expandiert. Grundlage ist ein eigener Property-Graph mit der Klassenhierarchie des CIDOC-CRM Datenmodell samt zwischenzeitlich umbenannter oder veralteter Klassen in der Datei crm-classes.pg (siehe SVG-Diagram). Der Graph aller Klassen enthält Informationen darüber welche Klassen sich aus einer anderen ergeben, z.B.\n\nE22_Man_Made_Object =&gt; E22_Human_Made_Object (renamedTo)\nE50_Date =&gt; E41_Appellation (replacedBy)\nE7_Activity=&gt; E5_Event (superClass)\n\nAus diesen Daten wird die Expansionstabelle crm-expand.txt erzeugt, z.B.:\n\nE22_Human_Made_Object =&gt; E22, E71, E70, E24 E77 und E1\n\nZum Ausführen der Expansion:\n./pg-expand-labels.py [Neo4j login file] &lt; crm-expand.txt\nOhne Konfigurationsdatei für Neo4J werden Cypher-Kommandos ausgegeben. Mit Konfiguration wird die Expansion in der betreffenden Neo4J-Datenbank ausgeführt.\nNach der Expansion ist die Abfrage nach allen Knoten mit einem bestimmten Label wie z.B. E22_Human_Made_Object möglich oder nach allen Knoten, die direkt oder indirekt er Klasse E22 angehören.\nDie Expansion von zusätzlichen Klassen der NFDI4Objects Core Ontology auf CIDOC-CRM ist auf die gleiche Weise möglich aber noch nicht umgesetzt.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Systemarchitektur</span>"
    ]
  },
  {
    "objectID": "usage.html",
    "href": "usage.html",
    "title": "Benutzung",
    "section": "",
    "text": "API-Endpunkte\nDie API-Endpunkte sind bislang noch nicht öffentlich.",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Benutzung</span>"
    ]
  },
  {
    "objectID": "usage.html#api-endpunkte",
    "href": "usage.html#api-endpunkte",
    "title": "Benutzung",
    "section": "",
    "text": "SPARQL-Abfragen\nCypher-Abfragen",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Benutzung</span>"
    ]
  },
  {
    "objectID": "usage.html#zugriff-mit-python",
    "href": "usage.html#zugriff-mit-python",
    "title": "Benutzung",
    "section": "Zugriff mit Python",
    "text": "Zugriff mit Python\nUm Cypher Anfragen in Python auszuführen muss sich mit einer Datenbank verbunden werden. Für Neo4j wird der Neo4j driver benötigt. Mit einem Driver Objekt wird eine Verbindung zur Datenbank erstellt. Dafür werden die URL der Datenbank und die Authentifizierungsdaten benötigt.\nfrom neo4j import GraphDatabase\n\n# URI Beispiele: \"neo4j://localhost\", \"neo4j+s://xxx.databases.neo4j.io\"\nURI = \"&lt;URI der Neo4j Datenbank&gt;\"\nAUTH = (\"&lt;Username&gt;\", \"&lt;Password&gt;\")\nquery = \"&lt;Cypher Anfrage&gt;\"\ndriver = GraphDatabase.driver(URI, auth=AUTH)\nwith driver.session() as session:\n   result = session.run(query)\ndriver.close()\nMit result Methoden lassen sich nähere Informationen über die Ergebnis der Anfrage erhalten, zum Beispiel die Anzahl von Nodes.",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Benutzung</span>"
    ]
  },
  {
    "objectID": "usage.html#weitere-informationen",
    "href": "usage.html#weitere-informationen",
    "title": "Benutzung",
    "section": "Weitere Informationen",
    "text": "Weitere Informationen\n\nNeo4j Python Handbuch (Englisch)",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Benutzung</span>"
    ]
  },
  {
    "objectID": "cypher.html",
    "href": "cypher.html",
    "title": "Abfragen mit Cypher",
    "section": "",
    "text": "Nodes\nKnoten heißen Nodes und werden in runden Klammern definiert.\nPerson ist ein Label. Labels sind wie Tags und werden genutzt um die Datenbank zu befragen. Eine Node Kann mehrere Labels haben.\nName ist eine Property von Anna. Properties werden in geschweiften Klammern definiert and geben nähere Informationen. Nach Properties kann auch gefragt werden.\nN ist eine Variabel. Auf Variabeln kann weiter verwiesen werden.\nIn diesem Beispiel findet MATCH alle Person Nodes in dem Graph wo die Property name Anna ist und setzt die Variabel n zu dem Ergebnis. n wird dann an RETURN weitergegeben, welche den Wert von einer anderen Property (geboren) dieser Nodes wiedergibt.",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Abfragen mit Cypher</span>"
    ]
  },
  {
    "objectID": "cypher.html#beispielabfragen",
    "href": "cypher.html#beispielabfragen",
    "title": "Abfragen mit Cypher",
    "section": "Beispielabfragen",
    "text": "Beispielabfragen\nFinde Wert, Einheit und Notiz aller Messungen.\nMATCH (n:E16_Measurement)-[:P40_observed_dimension]-&gt;(m:E54_Dimension)-[:P2_has_type]-&gt;(:E55_Type)-[:P48_has_preferred_identifier]-&gt;(l)\nMATCH (m)-[:P91_has_unit]-&gt;(:E58_Measurement_Unit)-[:P48_has_preferred_identifier]-&gt;(o)\nRETURN m.P90_has_value AS value, o.P3_has_note AS unit, l.P3_has_note AS note\n\n\n2.8,cm,Höhe (Scan)",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Abfragen mit Cypher</span>"
    ]
  },
  {
    "objectID": "cypher.html#weitere-informationen",
    "href": "cypher.html#weitere-informationen",
    "title": "Abfragen mit Cypher",
    "section": "Weitere Informationen",
    "text": "Weitere Informationen\nDas englische Cypher Handbuch",
    "crumbs": [
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Abfragen mit Cypher</span>"
    ]
  },
  {
    "objectID": "sparql.html",
    "href": "sparql.html",
    "title": "Abfragen mit SPARQL",
    "section": "",
    "text": "Inhalt des Triple Store",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Abfragen mit SPARQL</span>"
    ]
  },
  {
    "objectID": "sparql.html#inhalt-des-triple-store",
    "href": "sparql.html#inhalt-des-triple-store",
    "title": "Abfragen mit SPARQL",
    "section": "",
    "text": "Alle in RDF angelieferten Daten (soweit syntaxktisch korrekt). Es ist also kein einheitliches Datenmodell vorgeschrieben! Aus den RDF-Daten werden lediglich Aussagen über Terminologien und Ontologien herausgefiltert\nJede Lieferung ist ein Named Graph, so dass die Lieferungen sowohl einzeln, als auch in einem RDF-Graphen zusammengefasst abgefragt werden können.\nUnterstützte Ontologien und Terminologien sind ebenfalls als eigene Namend Graphs eingespielt, so dass sie für Abfragen verwendet werden können.",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Abfragen mit SPARQL</span>"
    ]
  },
  {
    "objectID": "sparql.html#beispielabfragen",
    "href": "sparql.html#beispielabfragen",
    "title": "Abfragen mit SPARQL",
    "section": "Beispielabfragen",
    "text": "Beispielabfragen\n\nStatistik aller Prädikate und ihrer Häufigkeit\nSELECT distinct ?pred WHERE {\n  ?sub ?pred ?obj .\n}\n\n\nStatistik aller Prädikate sortiert nach Anzahl der Prädikate\nSELECT distinct ?pre (COUNT(?pre) AS ?count) WHERE {\n  ?s ?pre ?obj\n} \nGROUP BY ?pre\nORDER BY DESC(?count)\n\n\nStatistik aller Objekte mit spezifischen Prädikat sortiert nach Anzahl der Subjekte\nSELECT distinct (COUNT(?s) AS ?count) ?obj WHERE {\n  ?s &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; ?obj\n} \nGROUP BY ?obj\nORDER BY DESC(?count)",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Abfragen mit SPARQL</span>"
    ]
  }
]